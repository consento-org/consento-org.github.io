(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{106:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return r})),i.d(t,"metadata",(function(){return s})),i.d(t,"toc",(function(){return c})),i.d(t,"default",(function(){return p}));var n=i(3),o=i(7),a=(i(0),i(126)),r={title:"Decentralized Notification System",section:"blocks",license:"CC-BY",author:"martin",year:2021},s={type:"mdx",permalink:"/blocks/notification",source:"@site/src/pages/blocks/notification.md"},c=[{value:"Background",id:"background",children:[]},{value:"Prior Art",id:"prior-art",children:[]},{value:"First attempt &amp; Things that need to be different",id:"first-attempt--things-that-need-to-be-different",children:[]},{value:"Future Steps",id:"future-steps",children:[]}],l={toc:c};function p(e){var t=e.components,i=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},l,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"[State: concept-v2]"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},Object(a.b)("strong",{parentName:"p"},"TLDR;")," Decentralized applications need (mobile) notifications that arrive with certainty\nat a group of devices.")),Object(a.b)("h2",{id:"background"},"Background"),Object(a.b)("p",null,"Notification systems for mobile devices and desktops are required to be tunneled through the services\nby ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://developers.google.com/web/ilt/pwa/introduction-to-push-notifications"}),"Google")," and ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1"}),"Apple"),". These services are deeply tied to the the Developer ID, making the\ndeveloper ID responsible for abuse. This means: any decentralized application needs a centralized server\nsetup for notifications. \ud83d\ude14"),Object(a.b)("p",null,"The goal is to provide a zero-knowledge, efficient notification server that can pass notifications\nfrom one client to another without being able to look inside the envelope while still preventing spam to\nclients. The server is to utilize WebSockets when the application is in the foreground for quicker\nprocessing and to only use push services when necessary."),Object(a.b)("h2",{id:"prior-art"},"Prior Art"),Object(a.b)("p",null,"We are particularly motivated to see the ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/signalapp/Signal-Server/tree/master/service/src/main/java/org/whispersystems/textsecuregcm/push"}),"Signal Notification System"),". It functions similar to what we have\nin mind. It is quick and proven in practice but it lacks a few details important to use. It stops a little short\nin terms of the security we need."),Object(a.b)("p",null,"With the v2 of the Consento Notification server we would like to make it as usable for\nany kind of future Notification system."),Object(a.b)("h2",{id:"first-attempt--things-that-need-to-be-different"},"First attempt & Things that need to be different"),Object(a.b)("p",null,"For the first version of Consento we already developed ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/consento-org/notification-server/"}),"a notification-server"),"\nwhich taught us important lessons for a second version"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Devices need to be grouped in order to make sure that the notification arrives at the device needed."),Object(a.b)("li",{parentName:"ol"},"A notification that arrived needs view-receipts in order to stop distributing the notification to unused devices."),Object(a.b)("li",{parentName:"ol"},"Request Limiting needs to be as restrictive as possible."),Object(a.b)("li",{parentName:"ol"},"It is a good idea to register devices tokens on every startup."),Object(a.b)("li",{parentName:"ol"},"Notifications by Apple & Google can not be relied on.")),Object(a.b)("h2",{id:"future-steps"},"Future Steps"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Restructure notification code to use hypercore synching and groups."),Object(a.b)("li",{parentName:"ul"},"Enable ",Object(a.b)("a",Object(n.a)({parentName:"li"},{href:"https://en.wikipedia.org/wiki/Shard_(database_architecture)"}),"sharding")," of the notification servers to remove possible bottle necks."),Object(a.b)("li",{parentName:"ul"},"Investigate possibility of background notification polling using a DHT instead of signalling servers.")))}p.isMDXComponent=!0}}]);