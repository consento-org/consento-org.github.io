<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Consento Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Consento Blog Atom Feed"><title data-react-helmet="true">Choosing the hard road: Mobile-first! | Consento</title><meta data-react-helmet="true" property="og:title" content="Choosing the hard road: Mobile-first! | Consento"><meta data-react-helmet="true" name="description" content="About why we chose a mobile app as a start for Consento, what challenges we encountered and what we learned on our way−so you don&#x27;t need to."><meta data-react-helmet="true" property="og:description" content="About why we chose a mobile app as a start for Consento, what challenges we encountered and what we learned on our way−so you don&#x27;t need to."><meta data-react-helmet="true" property="og:url" content="https://consento.org/blog/mobile-first"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:image" content="https://consento.org/images/2020/03/design-2.png"><meta data-react-helmet="true" name="twitter:image" content="https://consento.org/images/2020/03/design-2.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/consento/cc-by-nc-nd/logo/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://consento.org/blog/mobile-first"><link data-react-helmet="true" rel="alternate" href="https://consento.org/blog/mobile-first" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://consento.org/blog/mobile-first" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4da06464.css">
<link rel="preload" href="/assets/js/runtime~main.8ec1c0f4.js" as="script">
<link rel="preload" href="/assets/js/main.7c185ae3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/consento/cc-by-nc-nd/logo/consento-with-text.png" alt="Consento Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/consento/cc-by-nc-nd/logo/consento-with-text.png" alt="Consento Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Consento</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about">About</a><a class="navbar__item navbar__link" href="/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/usecases">Use cases</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/team">Team</a></li><li><a class="dropdown__link" href="/blog/supporters">Supporters</a></li><li><a href="https://github.com/consento-org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Github</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link navbar__button" href="/download">Download</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/consento/cc-by-nc-nd/logo/consento-with-text.png" alt="Consento Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/consento/cc-by-nc-nd/logo/consento-with-text.png" alt="Consento Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Consento</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/about">About</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/usecases">Use cases</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/blog/team">Team</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/supporters">Supporters</a></li><li class="menu__list-item"><a href="https://github.com/consento-org/" target="_blank" rel="noopener noreferrer" class="menu__link">Github</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link navbar__button" href="/download">Download</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/Consento-the-digital-transformation-and-the-remote-workplace-management-for-CISO">Shifting to remote working propelled the digital transformation. At what security costs?</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/CISO-Interview-3-Common-Problems-in-Cyber-Security-Today">CISOs Interview: 3 Common Problems in Cyber Security Today</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/Consento-and-the-remote-workplace-during-the-Cyber-Pandemic">How to steward security in your remote workplace. #CyberPandemic.</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/medical-data-custody-for-all">How to handle patients&#x27; medical data in a more secure manner by distributing responsibilities.</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/TETRA-bootcamp-scale-up-2021">Joining the TETRA bootcamp on &#x27;scaling up&#x27;</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">Choosing the hard road: Mobile-first!</h1><div class="margin-vert--md"><time datetime="2020-04-02T00:00:00.000Z" class="blogPostDate_fNvV">April 2, 2020 · 6 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="/team/martin"><img src="/img/tanja/cc-by-nc-nd/team/Martin.svg" alt="Martin Heidegger"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="/team/martin">Martin Heidegger</a></h4><small class="avatar__subtitle">Software Development</small></div></div></header><div class="markdown"><p><em>About why we chose a mobile app as a start for Consento, what challenges we encountered and what we learned on our way−so you don&#x27;t need to.</em></p><p>Around June of 2019, we were discussing and thinking hard about an initial version of Consento would look like−<em>a <a href="https://en.wikipedia.org/wiki/Minimum_viable_product" target="_blank" rel="noopener noreferrer">MVP</a></em>. We had a few long and hard discussions, trying to tie down what is necessary for us to figure out. Our priority No. 1 eventually landed on <em>daily usability</em>. We wanted to make sure that whatever product we are building will be useful in everyday life. Ultimately, it means that this has to be on a mobile device; a mobile app.</p><p>This was a problem for us. <em>Yes</em>, we are developers and−<em>yes</em>−we have experience with desktop and server software, but <em>no</em>: our strength is not in mobile apps. We had to learn quickly and make choices. To make this an informed choice we looked at our requirements:</p><ol><li>We need it to be JavaScript based to stay compatible with the <a href="https://datproject.org" target="_blank" rel="noopener noreferrer">dat</a> ecosystem.</li><li>We do not want for the user interface to stutter. This means our code needs to run separately from the UI <em>(in a different thread)</em>.</li></ol><p>Of the two popular choices we found, we went with <a href="https://facebook.github.io/react-native/" target="_blank" rel="noopener noreferrer">React Native</a> over <a href="https://www.nativescript.org/" target="_blank" rel="noopener noreferrer">NativeScript</a>. It seems easier to find people with React Native experience. It has a pretty good reputation and we wanted to use React for the user interface. Choosing it seemed the straight-forward choice.</p><p>React Native can be used as-is, but for quicker development we learned that <a href="https://expo.io/" target="_blank" rel="noopener noreferrer">Expo.io</a> is really comfortable. Expo limits React Native to a pre-defined set of extensions. This restriction allows the immediate installation on any device, quickly. No need to wait for slow build or publishing processes. − <em>Cool, we definitely want that!</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="design-process"></a>Design Process<a class="hash-link" href="#design-process" title="Direct link to heading">#</a></h3><p>We want to use Open-Source software for as many tasks as possible, as it allows contributors to join freely and quickly. Sadly, we have not found a free design software that works for us. <a href="https://www.sketch.com/get/" target="_blank" rel="noopener noreferrer">Sketch</a> is reasonably cheap for a design software, can be used offline, allows some hacking with the format and is overall the only choice we could see−even though it runs only on MacOS. <em>(though .sketch files can be edited using <a href="https://icons8.com/lunacy" target="_blank" rel="noopener noreferrer">Lunacy</a> on Windows)</em></p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="/img/consento/cc-by-nc-sa/design.png" class="kg-image" alt="Consento, In sketch, as mock and on the device."><footer><small>License: <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY-NC-SA</a> by <a rel="author" href="https://consento.org/team">Consento</a></small></footer><figcaption>From sketch to mockup to prototype. Marc made some nice designs for us.</figcaption></figure><p>With the design ready we need to turn it into code. We wanted to automate that so we also informed ourselves here:</p><ul><li><a href="https://builderx.io/pricing" target="_blank" rel="noopener noreferrer">BuilderX</a> looked professional but has a steep price tag of 15$/month/person and the output wasn&#x27;t good to use in our opinion. Repeat output would clash with expo and typescript and we had to improve the output by hand.</li><li><a href="https://zeplin.io/" target="_blank" rel="noopener noreferrer">Zeplin.io</a> is useful for communication and is okay for a copy &amp; paste process but in the long run was going to be painful for updates: What did we already update? Where is the difference between design and code? How do we add the non-trivial features?</li><li><a href="https://github.com/nanohop/sketch-to-react-native" target="_blank" rel="noopener noreferrer">Sketch-to-react-native</a> does sound promising but it exports to JavaScript <em>(and we work with TypeScript)</em> and the output is not suitable for repeat exports. This would allow us to export once and any future update would be problematic.</li></ul><p>After testing a few alternatives we knew what we needed.</p><ol><li>It needs to be able to change the Sketch file repeatedly without breaking the rest of the code.</li><li>It needs to output all the things we need: images, fonts, elements.</li><li>It needs to be free or cheap.</li></ol><p>Since we couldn&#x27;t find any tool to do that, we wrote it ourselves. 🤓 ↓</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="hello-expo-export"></a>Hello, expo-export!<a class="hash-link" href="#hello-expo-export" title="Direct link to heading">#</a></h3><p>To get the workflow right we built in parallel to our first app <a href="https://github.com/consento-org/expo-export" target="_blank" rel="noopener noreferrer">expo-export</a>! It is a <a href="https://en.wikipedia.org/wiki/Free_and_open-source_software" target="_blank" rel="noopener noreferrer">free and opensource software</a>, that you can add as a plugin to Sketch. It will add a menu button that with one click exports the assets, fonts and components of the layers in that sketch file to relative folders.</p><p>In its current version expo-export is rough around many edges but the development has been mostly a breeze and we learned a lot about the capabilities of Sketch. Now, when we create changes in Sketch we can see the updates immediately<em>(-ish)</em> in the mobile app.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="/img/consento/cc-by-nc-sa/screen-recording-live-update.gif" class="kg-image" alt="screen capture showing an iphone simulator updated as the export process in sketch is executed."><footer><small>License: <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY-NC-SA</a> by <a rel="author" href="https://consento.org/team">Consento</a></small></footer><figcaption>Simulator (or device) is updated quickly after sketch export is triggered.</figcaption></figure><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="security--performance"></a>Security &amp; Performance<a class="hash-link" href="#security--performance" title="Direct link to heading">#</a></h3><p>The last topic for this post is about performance. If you try to use Consento right now on a slower device, Consento will be slow! Particularly when adding a new Relation or adding a new file to a vault. The reason for this performance issue is tied to our initial choices <em>(back in the first section)</em>. In order to work with dat, we need to rely on a specific encryption system <em>(libsodium)</em> that is not working fast on react-native.</p><p>We thought initially that this should be the smaller issue and will be easily improved later-on but it turns out that encryption on mobile devices is a pretty big deal. The current version works more-or-less but because of time constraints the current solution is not compatible with dat. 😱</p><p>Maybe we should have gone with NativeScript as a platform? NativeScript has a synchronous <a href="https://market.nativescript.org/plugins/nativescript-libsodium" target="_blank" rel="noopener noreferrer">libsodium plugin</a> after all, though <a href="https://market.nativescript.org/plugins/nativescript-libsodium#ios-support" target="_blank" rel="noopener noreferrer">without iOS support</a>. A more straight-forward choice might have even been <a href="https://code.janeasystems.com/nodejs-mobile" target="_blank" rel="noopener noreferrer">nodejs-mobile</a>, a recommendation we received quickly from the <a href="https://www.digital-democracy.org/mapeo/" target="_blank" rel="noopener noreferrer">mapeo</a> team, after asking for it far too late.</p><p>When we started we also were not aware of publication <a href="https://help.apple.com/app-store-connect/#/dev88f5c7bf9" target="_blank" rel="noopener noreferrer">difficulties in the AppStore</a> (<a href="https://www.ssi.gouv.fr/en/regulation/cryptology/how-to-submit-an-application/" target="_blank" rel="noopener noreferrer">specifically france</a>) due to long-standing rules on <a href="https://en.wikipedia.org/wiki/Export_of_cryptography_from_the_United_States#Current_status" target="_blank" rel="noopener noreferrer">cryptographic exports</a> or limitations on <a href="https://en.wikipedia.org/wiki/Restrictions_on_the_import_of_cryptography" target="_blank" rel="noopener noreferrer">importing cryptographic in parts of the world</a>. China also put out new <a href="https://www.insideprivacy.com/data-security/china-enacts-encryption-law/" target="_blank" rel="noopener noreferrer">crypto laws</a>.</p><p>In short, we need to rethink our strategy for getting dat-compatible and fast cryptography to work on a mobile phone. <img src="/img/external/fair-use/screenshot-subscribe-button.png" alt="Subscribe" class="inline__image"> to our <a href="https://github.com/consento-org/mobile/issues/90" target="_blank" rel="noopener noreferrer">github issue #90</a> to follow our progress.</p><hr><p>You can have a look at the Consento mobile app right now → <a href="https://github.com/consento-org/mobile/releases" target="_blank" rel="noopener noreferrer">Releases</a>.</p><p>The version v1.0.2 is still a very early preview, but it may inspire you.</p><p>In the meanwhile, we will be working on several improvements. You can follow our progress on this blog, using RSS, or in the <a href="https://discord.gg/BAPxpGjgXH" target="_blank" rel="noopener noreferrer">discord chat</a>.</p><footer><small>License: <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY-NC-SA</a> by <a rel="author" href="https://consento.org/team/martin">Martin Heidegger</a>, <span class="license__year">2021</span></small></footer></div></article><div><a href="https://github.com/consento-org/consento-org.github.io/edit/main/blog/2020-04-02-mobile-first.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/in-consent-we-trust"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« In consent we trust</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/funding-ngi-2019"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Consento receives funding by NGI! »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#design-process" class="table-of-contents__link">Design Process</a></li><li><a href="#hello-expo-export" class="table-of-contents__link">Hello, expo-export!</a></li><li><a href="#security--performance" class="table-of-contents__link">Security &amp; Performance</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/BAPxpGjgXH" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/consentoorg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a class="footer__link-item" href="/supporters">Supporters</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Develop</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/consento-org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github Repository</a></li><li class="footer__item"><a href="https://discord.gg/BAPxpGjgXH" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord Chat</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/time">Building Blocks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/team">Team</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li><li class="footer__item"><a class="footer__link-item" href="/jp">コンセントについて</a></li><li class="footer__item"><a class="footer__link-item" href="/usecases">Use cases</a></li></ul></div></div><div class="footer__eu-funding"><div><a href="https://ledgerproject.eu/" target="_blank"><img src="/img/external/fair-use/ngi-white@2x.png" alt="NGI Ledger"></a></div><p>This project has received funding from the European Union’s <a href="https://ec.europa.eu/programmes/horizon2020/" target="_blank">Horizon 2020</a> research and innovation programme within the framework of the <a href="https://www.ngi.eu/about/ledger/" target="_blank">LEDGER Project</a> funded under grant agreement <a href="https://cordis.europa.eu/project/id/825268" target="_blank">No825268</a>.</p><div><a href="https://ec.europa.eu/info/" target="_blank"><img src="/img/external/fair-use/eu-flag-low.png" alt="EU"></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2021 Consento - All rights reserved - <a href="/credits">Credits</a> - <a href="/privacy-policy">Privacy Policy</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.8ec1c0f4.js"></script>
<script src="/assets/js/main.7c185ae3.js"></script>
</body>
</html>